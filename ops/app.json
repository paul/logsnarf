{
  "variables": {
    "vultr_api_key": "{{ env `VULTR_API_KEY` }}",
    "digital_ocean_api_token": "{{ env `DO_API_TOKEN` }}"
  },
  "builders": [
    {
      "type": "vultr",
      "api_key": "{{ user `vultr_api_key` }}",
      "snapshot_description": "Logsnarf",
      "region_id": 1,
      "plan_id": 201,
      "os_id": 362,
      "ssh_username": "root",
      "ssh_key_ids": "5dd1f45eeaf2b",
      "state_timeout": "15m"
    },
    {
      "type": "digitalocean",
      "api_token": "{{ user `digital_ocean_api_token` }}",
      "image": "centos-7-x64",
      "region": "nyc3",
      "size": "1gb",
      "ssh_username": "root"
    }
  ],
  "provisioners": [
    {
      "type": "file",
      "source": "ops/templates",
      "destination": "/tmp"
    },
    {
      "type": "file",
      "source": "ops/environments",
      "destination": "/tmp"
    },
    {
      "type": "shell",
      "scripts": [
        "ops/scripts/logsnarf.sh"
      ],
      "environment_vars": [
        "RACK_ENV=production"
      ]
    }
  ]
}

